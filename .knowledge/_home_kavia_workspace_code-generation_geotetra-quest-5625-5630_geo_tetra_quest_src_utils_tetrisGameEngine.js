{"is_source_file": true, "format": "JavaScript", "description": "This file defines the core logic and mechanics of a Tetris game, including tetromino shapes and rotations, board management, collision detection, row clearing, scoring, and game state creation.", "external_files": [], "external_methods": [], "published": ["TETROMINOS", "randomTetromino", "createBoard", "checkCollision", "rotate", "clearRows", "calculateScore", "calculateLevel", "calculateDropTime", "createGameState", "updateBoard"], "classes": [], "methods": [{"name": "TETROMINOS", "description": "Object containing definitions of all Tetris tetromino shapes and colors."}, {"name": "randomTetromino", "description": "Function that returns a random tetromino shape from the defined set."}, {"name": "createBoard", "description": "Function that creates an empty game board with specified height and width."}, {"name": "checkCollision", "description": "Checks if the player's current move results in a collision with the board boundaries or filled cells."}, {"name": "rotate", "description": "Rotates a given matrix (tetromino shape) clockwise or counter-clockwise."}, {"name": "clearRows", "description": "Removes completed rows from the board, returning the new board and number of cleared lines."}, {"name": "calculateScore", "description": "Calculates score based on rows cleared and current level."}, {"name": "calculateLevel", "description": "Determines the current level based on total rows cleared."}, {"name": "calculateDropTime", "description": "Calculates the game speed (drop interval) based on the current level."}, {"name": "createGameState", "description": "Initializes and returns the complete game state object."}, {"name": "updateBoard", "description": "Merges the player's tetromino into the board, updating the game state visually."}], "calls": ["Math.floor", "Array.from", "Array.prototype.fill", "Array.prototype.unshift"], "search-terms": ["tetris engine", "tetromino shapes", "collision detection", "line clearing", "score calculation", "game state initialization"], "state": 2, "file_id": 24, "knowledge_revision": 64, "git_revision": "53f3c853b15321b9268c030f9bcfd93347d56e04", "revision_history": [{"52": "159f6862e797b44f5e32c7c44d967f2942a4910b"}, {"62": "5c3828bd01c5c19a858b1c0529396f9453e2f358"}, {"64": "53f3c853b15321b9268c030f9bcfd93347d56e04"}], "ctags": [{"_type": "tag", "name": "0", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  0: { shape: [[0]], color: '0' },$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "I", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  I: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "J", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  J: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "L", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  L: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "O", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  O: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "S", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  S: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "T", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  T: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "TETROMINOS", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const TETROMINOS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "Z", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  Z: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "board", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const board = prevBoard.map(row => [...row]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "calculateDropTime", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const calculateDropTime = (level) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "calculateLevel", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const calculateLevel = (rowsCleared) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "calculateScore", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const calculateScore = (rowsCleared, level) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "checkCollision", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const checkCollision = (player, board, { x: moveX, y: moveY }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clearRows", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const clearRows = (board) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '1',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.I", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '2',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.J", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '3',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.L", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '4',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.O", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '5',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.S", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '6',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.T", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '7',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.Z", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  0: { shape: [[0]], color: '0' },$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.0", "scopeKind": "class"}, {"_type": "tag", "name": "createBoard", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const createBoard = (height = 20, width = 10) => $/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createGameState", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const createGameState = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "linesCleared", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  let linesCleared = 0;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "newBoard", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const newBoard = board.reduce((acc, row) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "points", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const points = [0, 40, 100, 300, 1200]; \\/\\/ Classic Tetris scoring$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "randTetromino", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const randTetromino = tetrominos[Math.floor(Math.random() * tetrominos.length)];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "randomTetromino", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const randomTetromino = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rotate", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const rotate = (matrix, dir) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rotatedTetromino", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const rotatedTetromino = matrix.map((_, index) => $/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.I", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.J", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.L", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.O", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.S", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.T", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.Z", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  0: { shape: [[0]], color: '0' },$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.0", "scopeKind": "class"}, {"_type": "tag", "name": "tetrominos", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const tetrominos = 'IJLOSTZ';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateBoard", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const updateBoard = (prevBoard, player) => {$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "hash": "f6336d88e0f0783647479baf167d5b58", "format-version": 4, "code-base-name": "default", "fields": [{"name": "color: '1',", "scope": "TETROMINOS.I", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '2',", "scope": "TETROMINOS.J", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '3',", "scope": "TETROMINOS.L", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '4',", "scope": "TETROMINOS.O", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '5',", "scope": "TETROMINOS.S", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '6',", "scope": "TETROMINOS.T", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '7',", "scope": "TETROMINOS.Z", "scopeKind": "class", "description": "unavailable"}, {"name": "0: { shape: [[0]], color: '0' },", "scope": "TETROMINOS.0", "scopeKind": "class", "description": "unavailable"}, {"name": "let linesCleared = 0;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "shape: [", "scope": "TETROMINOS.I", "scopeKind": "class", "description": "unavailable"}]}