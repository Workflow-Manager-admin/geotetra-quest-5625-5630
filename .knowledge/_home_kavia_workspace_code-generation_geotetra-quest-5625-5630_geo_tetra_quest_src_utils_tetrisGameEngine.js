{"is_source_file": true, "format": "JavaScript", "description": "This file defines core mechanics for a Tetris game, including tetromino shapes, rotation, collision detection, board management, scoring, and game state initialization.", "external_files": [], "external_methods": [], "published": ["TETROMINOS", "randomTetromino", "createBoard", "checkCollision", "rotate", "clearRows", "calculateScore", "calculateLevel", "calculateDropTime", "createGameState", "updateBoard"], "classes": [], "methods": [{"name": "randomTetromino", "description": "Returns a random tetromino shape object from predefined shapes."}, {"name": "createBoard", "description": "Creates and returns a new game board as a 2D array with default or specified dimensions."}, {"name": "checkCollision", "description": "Checks whether the current tetromino in the player position collides with the board edges or occupied cells."}, {"name": "rotate", "description": "Rotates a given matrix (tetromino shape) 90 degrees clockwise or counter-clockwise based on direction parameter."}, {"name": "clearRows", "description": "Removes fully filled rows from the board, shifts remaining rows down, and returns the new board along with the count of cleared lines."}, {"name": "calculateScore", "description": "Calculates the score based on the number of cleared rows and current level, using classic Tetris scoring rules."}, {"name": "calculateLevel", "description": "Determines the current game level based on total rows cleared."}, {"name": "calculateDropTime", "description": "Calculates the game's drop interval time based on the current level."}, {"name": "createGameState", "description": "Initializes and returns a new game state object with a fresh board, first tetromino, score, level, and related properties."}, {"name": "updateBoard", "description": "Returns a new board with the player's current tetromino merged into the board state."}], "calls": ["Math.floor", "Array.from", "board.reduce", "Array.prototype.map", "Array.prototype.every"], "search-terms": ["tetris game mechanics", "tetromino shapes", "collision detection", "rotation", "line clearing", "score calculation", "game state initialization", "board creation"], "state": 2, "file_id": 24, "knowledge_revision": 101, "git_revision": "04f8a3932818f7799ba4a66c8b669420237f3750", "revision_history": [{"52": "159f6862e797b44f5e32c7c44d967f2942a4910b"}, {"62": "5c3828bd01c5c19a858b1c0529396f9453e2f358"}, {"64": "53f3c853b15321b9268c030f9bcfd93347d56e04"}, {"68": "53f3c853b15321b9268c030f9bcfd93347d56e04"}, {"95": "1bb51c9534ae3ad91841c2b7eac615e62f64d54d"}, {"96": "c72969401642fd91166b2176bae9bcb3648d73cc"}, {"101": "04f8a3932818f7799ba4a66c8b669420237f3750"}], "ctags": [{"_type": "tag", "name": "0", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  0: { shape: [[0]], color: '0' },$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "I", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  I: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "J", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  J: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "L", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  L: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "O", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  O: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "S", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  S: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "T", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  T: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "TETROMINOS", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const TETROMINOS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "Z", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  Z: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "board", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const board = createBoard();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "board", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const board = prevBoard.map(row => [...row]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "calculateDropTime", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const calculateDropTime = (level) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "calculateLevel", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const calculateLevel = (rowsCleared) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "calculateScore", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const calculateScore = (rowsCleared, level) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "centerPos", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const centerPos = Math.floor((10 - pieceWidth) \\/ 2);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "checkCollision", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const checkCollision = (player, board, { x: moveX, y: moveY }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clearRows", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const clearRows = (board) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '1',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.I", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '2',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.J", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '3',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.L", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '4',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.O", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '5',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.S", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '6',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.T", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '7',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.Z", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  0: { shape: [[0]], color: '0' },$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.0", "scopeKind": "class"}, {"_type": "tag", "name": "createBoard", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const createBoard = (height = 20, width = 10) => $/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createGameState", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const createGameState = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "firstPiece", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const firstPiece = randomTetromino();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "linesCleared", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  let linesCleared = 0;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "newBoard", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const newBoard = board.reduce((acc, row) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newX", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^        const newX = x + player.pos.x + moveX;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newY", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^        const newY = y + player.pos.y + moveY;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "pieceWidth", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const pieceWidth = firstPiece.shape[0].length;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "points", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const points = [0, 40, 100, 300, 1200]; \\/\\/ Classic Tetris scoring$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "randTetromino", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const randTetromino = tetrominos[Math.floor(Math.random() * tetrominos.length)];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "randomTetromino", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const randomTetromino = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rotate", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const rotate = (matrix, dir) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rotatedTetromino", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const rotatedTetromino = matrix.map((_, index) => $/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.I", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.J", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.L", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.O", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.S", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.T", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.Z", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  0: { shape: [[0]], color: '0' },$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.0", "scopeKind": "class"}, {"_type": "tag", "name": "tetrominos", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const tetrominos = 'IJLOSTZ';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateBoard", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const updateBoard = (prevBoard, player) => {$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "hash": "f3ba6e8ce2221994aaf1b63e2fd4580d", "format-version": 4, "code-base-name": "default", "fields": [{"name": "color: '1',", "scope": "TETROMINOS.I", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '2',", "scope": "TETROMINOS.J", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '3',", "scope": "TETROMINOS.L", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '4',", "scope": "TETROMINOS.O", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '5',", "scope": "TETROMINOS.S", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '6',", "scope": "TETROMINOS.T", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '7',", "scope": "TETROMINOS.Z", "scopeKind": "class", "description": "unavailable"}, {"name": "0: { shape: [[0]], color: '0' },", "scope": "TETROMINOS.0", "scopeKind": "class", "description": "unavailable"}, {"name": "let linesCleared = 0;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "shape: [", "scope": "TETROMINOS.I", "scopeKind": "class", "description": "unavailable"}]}