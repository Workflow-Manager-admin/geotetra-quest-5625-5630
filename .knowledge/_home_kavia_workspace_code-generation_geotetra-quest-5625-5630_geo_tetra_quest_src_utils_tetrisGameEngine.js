{"is_source_file": true, "format": "JavaScript", "description": "This is a JavaScript source file that implements core mechanics and utilities for a Tetris game, including tetromino shape definitions, game state creation, collision detection, rotation, line clearing, scoring, and board updates.", "external_files": [], "external_methods": [], "published": ["TETROMINOS", "randomTetromino", "createBoard", "checkCollision", "rotate", "clearRows", "calculateScore", "calculateLevel", "calculateDropTime", "createGameState", "updateBoard"], "classes": [], "methods": [{"name": "randomTetromino", "description": "Returns a randomly selected tetromino shape from predefined set."}, {"name": "createBoard", "description": "Creates a new empty game board with specified dimensions."}, {"name": "checkCollision", "description": "Checks whether the current tetromino's position collides with existing board blocks or boundaries."}, {"name": "rotate", "description": "Rotates a tetromino matrix either clockwise or counter-clockwise."}, {"name": "clearRows", "description": "Removes fully filled rows from the board and returns the new board state."}, {"name": "calculateScore", "description": "Calculates game score based on cleared rows and current level."}, {"name": "calculateLevel", "description": "Determines current game level based on total cleared rows."}, {"name": "calculateDropTime", "description": "Calculates the drop interval for tetrominoes based on the current level."}, {"name": "createGameState", "description": "Initializes the game state object containing board, current and next pieces, score, level, and game status flags."}, {"name": "updateBoard", "description": "Merges the player's current tetromino into the board to produce an updated game state."}], "calls": ["Math.floor", "Array.from", "Math.random", "parseInt"], "search-terms": ["tetris mechanics", "core game engine", "tetromino shapes", "collision detection", "rotation", "line clearing", "scoring", "game state"], "state": 2, "file_id": 24, "knowledge_revision": 62, "git_revision": "5c3828bd01c5c19a858b1c0529396f9453e2f358", "revision_history": [{"52": "159f6862e797b44f5e32c7c44d967f2942a4910b"}, {"62": "5c3828bd01c5c19a858b1c0529396f9453e2f358"}], "ctags": [{"_type": "tag", "name": "0", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  0: { shape: [[0]], color: '0' },$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "I", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  I: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "J", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  J: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "L", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  L: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "O", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  O: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "S", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  S: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "T", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  T: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "TETROMINOS", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const TETROMINOS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "Z", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  Z: {$/", "language": "JavaScript", "kind": "class", "scope": "TETROMINOS", "scopeKind": "class"}, {"_type": "tag", "name": "board", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const board = prevBoard.map(row => [...row]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "calculateDropTime", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const calculateDropTime = (level) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "calculateLevel", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const calculateLevel = (rowsCleared) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "calculateScore", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const calculateScore = (rowsCleared, level) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "checkCollision", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const checkCollision = (player, board, { x: moveX, y: moveY }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clearRows", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const clearRows = (board) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '1',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.I", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '2',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.J", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '3',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.L", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '4',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.O", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '5',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.S", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '6',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.T", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    color: '7',$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.Z", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  0: { shape: [[0]], color: '0' },$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.0", "scopeKind": "class"}, {"_type": "tag", "name": "createBoard", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const createBoard = (height = 20, width = 10) => $/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createGameState", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const createGameState = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "points", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const points = [0, 40, 100, 300, 1200]; \\/\\/ Classic Tetris scoring$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "randTetromino", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const randTetromino = tetrominos[Math.floor(Math.random() * tetrominos.length)];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "randomTetromino", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const randomTetromino = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rotate", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const rotate = (matrix, dir) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rotatedTetromino", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const rotatedTetromino = matrix.map((_, index) => $/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rowsCleared", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  let rowsCleared = 0;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.I", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.J", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.L", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.O", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.S", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.T", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^    shape: [$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.Z", "scopeKind": "class"}, {"_type": "tag", "name": "shape", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  0: { shape: [[0]], color: '0' },$/", "language": "JavaScript", "kind": "property", "scope": "TETROMINOS.0", "scopeKind": "class"}, {"_type": "tag", "name": "tetrominos", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^  const tetrominos = 'IJLOSTZ';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateBoard", "path": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "pattern": "/^export const updateBoard = (prevBoard, player) => {$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/geotetra-quest-5625-5630/geo_tetra_quest/src/utils/tetrisGameEngine.js", "hash": "ea79f4c71fabfaca3f9ea8f275d43a87", "format-version": 4, "code-base-name": "default", "fields": [{"name": "color: '1',", "scope": "TETROMINOS.I", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '2',", "scope": "TETROMINOS.J", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '3',", "scope": "TETROMINOS.L", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '4',", "scope": "TETROMINOS.O", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '5',", "scope": "TETROMINOS.S", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '6',", "scope": "TETROMINOS.T", "scopeKind": "class", "description": "unavailable"}, {"name": "color: '7',", "scope": "TETROMINOS.Z", "scopeKind": "class", "description": "unavailable"}, {"name": "0: { shape: [[0]], color: '0' },", "scope": "TETROMINOS.0", "scopeKind": "class", "description": "unavailable"}, {"name": "let rowsCleared = 0;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "shape: [", "scope": "TETROMINOS.I", "scopeKind": "class", "description": "unavailable"}]}